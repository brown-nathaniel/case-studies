data.frame(nina_shots, predictive_hot(nina_hot))
data.frame(s = nina_shots, h = predictive_hot(nina_hot)) %>% group_by(b) %>% summarize(percentage = mean(a))
library(dplyr)
data.frame(s = nina_shots, h = predictive_hot(nina_hot)) %>% group_by(b) %>% summarize(percentage = mean(a))
data.frame(s = nina_shots, h = predictive_hot(nina_hot)) %>% group_by(h) %>% summarize(percentage = mean(s))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot),
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot),
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot),
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot),
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot)) %>% melt(id=c("nina_shots", "nina_hot"))
library(reshape2)
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot),
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot),
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot)) %>% melt(id=c("nina_shots", "nina_hot"))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot),
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot),
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot)) %>% melt(id=c(""))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot),
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot),
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot)) %>% melt(id=c("x"))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot),
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot),
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot),
trial = 1) %>% melt(id=c("trial"))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot), name = "Nina",
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot), name = "Sonia",
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot), name = "Camille") %>%
melt(id=c("trial"))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot), name = "Nina",
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot), name = "Sonia",
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot), name = "Camille") %>%
melt(id=c("name"))
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot), name = "Nina",
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot), name = "Sonia",
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot), name = "Camille")
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot), name1 = "Nina",
sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot), name2 = "Sonia",
cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot), name3 = "Camille") %>%
melt(id=c("name1", "name2", "name3"))
rbind(
data.frame(nina_shots = nina_shots, nina_hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(sonia_shots = sonia_shots, sonia_hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(cam_shots = cam_shots, cam_hot = predictive_hot(cam_hot), name = "Camille")
)
rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
)
rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots))
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots))
dat2
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2
ggplot(dat2, aes(x=name, y=percentage, fill=hot)) + geom_col(position="dodge")
library(ggplot2)
ggplot(dat2, aes(x=name, y=percentage, fill=hot)) + geom_col(position="dodge")
ggplot(dat2, aes(x=name, y=percentage, fill=as.factor(hot))) + geom_col(position="dodge")
ggplot(dat2, aes(x=name, y=percentage, fill=as.factor(-hot))) + geom_col(position="dodge")
ggplot(dat2, aes(x=name, y=percentage, fill=as.factor(hot))) + geom_col(position="dodge")
as.factor(c(1,0))
dat2[["hot"]] <- as.factor(c("hot","not hot"))
dat2
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("not hot","hot"))
dat2
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2
dat2[["hot"]] <- as.factor(c("not hot","hot"))
ggplot(dat2, aes(x=name, y=percentage, fill=as.factor(hot))) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("not hot","hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=name, y=percentage, fill=(hot))) + geom_col(position="dodge")
ggplot(dat2, aes(x=Name, y=Percentage, fill=(Hot))) + geom_col(position="dodge")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=(Hot))) + geom_col(position="dodge")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
levels(dat2)
levels(dat2$Hot)
dat2[["hot"]] <- as.factor(c("not hot","hot"))
levels(dat2[["hot"]]) <- c("not hot", "hot")
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("not hot","hot"))
levels(dat2[["hot"]]) <- c("not hot", "hot")
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("not hot","hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
df <- data.frame(b=1:10, c=c("z", "a"))
df
df$c <- factor(df$c, levels=c("z", "a"))
df
dat2[["hot"]] <- as.factor(c("hot","not hot"))
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("hot","not hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
dat2
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("not hot","hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2
dat2[["hot"]] <- as.factor(c("not hot","hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2[["hot"]] <- as.factor(c("hot","not hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
dat2
dat2 <- rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("hot","not hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
dat
dat2
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2[["hot"]] <- as.factor(c("not hot","hot"))
names(dat2) <- c("Name", "Hot", "Shooting Percentage")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2 <- dat2 %>% mutate(Hot = ifelse(hot==1, "hot", "not hot")) %>% select(-hot)
dat2
names(dat2) <- c("Name", "Shooting Percentage", "Hot")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2 <- dat2 %>% mutate(Hot = as.factor(ifelse(hot==1, "hot", "not hot"))) %>% select(-hot)
names(dat2) <- c("Name", "Shooting Percentage", "Hot")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 <- rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name, hot) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
dat2 <- dat2 %>% mutate(Hot = as.factor(ifelse(hot==0, "not hot", "hot"))) %>% select(-hot)
names(dat2) <- c("Name", "Shooting Percentage", "Hot")
ggplot(dat2, aes(x=Name, y=`Shooting Percentage`, fill=Hot)) + geom_col(position="dodge")
dat2 %>% group_by(name) %>% summarize(percentage = mean(shots))
dat2
rbind(
data.frame(shots = sonia_shots, hot = predictive_hot(sonia_hot), name = "Sonia"),
data.frame(shots = nina_shots, hot = predictive_hot(nina_hot), name = "Nina"),
data.frame(shots = cam_shots, hot = predictive_hot(cam_hot), name = "Camille")
) %>% group_by(name) %>% summarize(percentage = mean(shots)) %>% as.data.frame()
head(dat)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(dplyr); library(reshape2); library(knitr)
dat <- read.table("alllabs.txt", header = TRUE, stringsAsFactors = FALSE, na.strings = ".")
dat <- dat[!(is.na(dat$blot) | is.na(dat$body)),]
weights <- dat[,c("body", "blot")]
ggplot(data = weights,
mapping = aes(x=body, y=blot)) +
geom_point() +
labs(title="Blotted Weight vs. Body Weight",
x="Body Weight",
y="Blotted Weight"
) +
theme(plot.title = element_text(hjust = 0.5))
grpweights <- dat[,c("body", "blot","lab", "proto", "group")]
ggplot(data = grpweights,
mapping = aes(x=body, y=blot, color=proto)) +
geom_point() +
labs(title="Blotted Weight vs. Body Weight",
x="Body Weight",
y="Blotted Weight",
color="Protocol"
) +
theme(plot.title = element_text(hjust = 0.5))
labweights <- dat[,c("body", "blot", "lab")]
labweights_long <- melt(labweights, id="lab")
ggplot(data = labweights_long,
mapping = aes(x=lab, y=value, color = variable)) +
geom_boxplot() +
labs(title = "Weight by Lab",
x = "Lab",
y = "Weight",
color = "Weighed Object") +
theme(axis.text.x = element_text(angle = 90, hjust=1),
plot.title = element_text(hjust = 0.5))
head(dat)
ggplot(data = labweights_long,
mapping = aes(x=lab, y=log(value), color = variable)) +
geom_boxplot() +
labs(title = "log(Weight) by Lab",
x = "Lab",
y = "log(Weight)",
color = "Weighed Object") +
theme(axis.text.x = element_text(angle = 90, hjust=1),
plot.title = element_text(hjust = 0.5))
protoweights <- dat[,c("body", "blot", "proto")]
protoweights_long <- melt(protoweights, id="proto")
ggplot(data = protoweights_long,
mapping = aes(x=proto, y=log(value), color = variable)) +
geom_boxplot() +
labs(title = "log(Weight) by Protocol",
x = "Protocol",
y = "log(Weight)",
color = "Weighed Object") +
theme(plot.title = element_text(hjust = 0.5))
dosage_groups <-  dat %>%
group_by(group) %>%
summarize(dose1 = unique(dose1),
dose2 = unique(dose2),
A = sum(proto == "A"),
B = sum(proto == "B"),
C = sum(proto == "C"),
D = sum(proto == "D")
) %>% as.data.frame()
kable(dosage_groups)
hist(dat$body)
doselabels <- apply(dosage_groups[,c("dose1", "dose2")], 1, paste, collapse = ", ") %>% paste("(", ., ")", sep="")
ggplot(data = dat ,
mapping=aes(x=as.factor(group), y=log(blot))) +
geom_boxplot() +
labs(title = "log(Blotted Weight) by Dosage",
x = "Combination of (Dose 1, Dose 2)",
y = "log(Blotted Weight)") +
scale_x_discrete(labels = doselabels) +
theme(axis.text.x = element_text(angle = 45, hjust=1),
plot.title = element_text(hjust = 0.5))
hist(log(dat$body))
hist((dat$body))
hist(log(dat$body))
hist(log(dat$body[dat$proto %in% c("A", "B")]))
hist((dat$body[dat$proto %in% c("A", "B")]))
hist(log(dat$body[dat$proto %in% c("A", "B")]))
hist(log(dat$body[dat$proto %in% c("C", "D")]))
hist((dat$body[dat$proto %in% c("C", "D")]))
hist((dat$body[dat$proto %in% c("C", "D")]))
7 %% 0
7 %% 20
7 %% 21
11 %% 10
45 %% 10
45 - 10
sessionInfo()
RStudio.Version()
plot(2)
knitr::opts_chunk$set(echo = TRUE)
getOption("repos")
Sys.getenv('PATH')
library(Rtools)
install.packages("Rtools")
library(ggplot2)
install.packages("Rtools")
sessionInfo()
sessionInfo()[1]
names(sessionInfo())
sessionInfo()[[1]]
sessionInfo()[[1]][[1]]
sessionInfo()[[1]][[2]]
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(dplyr); library(reshape2); library(knitr); library(rstan)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(dplyr); library(reshape2); library(knitr); library(rstan)
dat <- read.table("alllabs.txt", header = TRUE, stringsAsFactors = FALSE, na.strings = ".")
dat <- dat[!(is.na(dat$blot) | is.na(dat$body) | is.na(dat$wet)),]
dat_list = as.list(dat)
dat_list$N = 2666
dat_list$dose12 = dat_list$dose1 * dat_list$dose2
stan_model2 = strwrap("
data {
int<lower=0> N;
vector[N] dose1;
vector[N] dose2;
vector[N] dose12;
vector[N] blot;
}
parameters {
real alpha;
real beta1;
real beta2;
real beta3;
real<lower=0> sigma;
}
model {
blot ~ normal(alpha + beta1 * dose1 + beta2 * dose2 + beta3 * dose12, sigma);
}")
fit <- stan(model_code=stan_model2, data = dat_list,
iter = 200, chains = 1)
dat <- read.table("alllabs.txt", header = TRUE, stringsAsFactors = FALSE, na.strings = ".")
dat <- dat[!(is.na(dat$blot) | is.na(dat$body) | is.na(dat$wet)),]
dat_list = as.list(dat)
dat_list$N = 2666
dat_list$dose12 = dat_list$dose1 * dat_list$dose2
length(dat_list)
stan_model2 = strwrap("
data {
int<lower=0> N;
vector[N] dose1;
vector[N] dose2;
vector[N] dose12;
vector[N] blot;
}
parameters {
real alpha;
real beta1;
real beta2;
real beta3;
real<lower=0> sigma;
}
model {
blot ~ normal(alpha + beta1 * dose1 + beta2 * dose2 + beta3 * dose12, sigma);
}")
fit <- stan(model_code=stan_model2, data = dat_list,
iter = 200, chains = 1)
stanstring <- "
"
stanstring <- {"
data {
int<lower=0> J;          // # schools
real y[J];               // estimated treatment
real<lower=0> sigma[J];  // std err of effect
}
"
"
}
}
"
}
stanstring
stanstring <- "
data {
int<lower=0> J;          // # schools
real y[J];               // estimated treatment
real<lower=0> sigma[J];  // std err of effect
}
parameters {
real theta[J];           // school effect
real mu;                 // mean for schools
real<lower=0> tau;       // variance between schools
}
model {
theta ~ normal(mu, tau);
y ~ normal(theta, sigma);
}
"
datalist <- list(
y = c(28, 8, -3, 7, -1, 1, 18, 12),
sigma = c(15, 10, 1, 11, 9, 11, 10, 18)
)
datalist$J = length(datalist[["y"]])
schools <- stan(model_code = stanstring,
data = datalist,
pars = c("theta", "mu", "tau"),
iter = 1000, chains = 1
)
dat_list$N
fit <- stan(model_code=stan_model2, data = dat_list,
iter = 200, chains = 1)
pairs()
pairs(fit)
plot(fit)
}")
}")
model {
real alpha;
stan_model2 = strwrap("
data {
int<lower=0> N;
vector[N] dose1;
vector[N] dose2;
vector[N] dose12;
vector[N] blot;
}
parameters {
real alpha;
real beta1;
real beta2;
real beta3;
real<lower=0> sigma;
}
model {
blot ~ normal(alpha + beta1 * dose1, sigma);
}")
fit <- stan(model_code=stan_model2, data = dat_list,
iter = 200, chains = 1)
plot(fit)
stan_model2 = strwrap("
data {
int<lower=0> N;
vector[N] dose1;
vector[N] dose2;
vector[N] dose12;
vector[N] blot;
}
parameters {
real alpha;
real beta1;
real beta2;
real beta3;
real<lower=0> sigma2;
}
model {
beta1 ~ normal(0,1)
beta2 ~ normal(0,1)
beta3 ~ normal(0,1)
sigma2 ~ inv_gamma(0.5, 12.5)
blot ~ normal(alpha + beta1 * dose1 + beta2 * dose2 + beta3 * dose12, sqrt(sigma2));
}")
fit <- stan(model_code=stan_model2, data = dat_list,
iter = 200, chains = 1, control = list(max_treedepth = 15))
sigma2 ~ inv_gamma(0.5, 12.5);
stan_model2 = strwrap("
data {
int<lower=0> N;
vector[N] dose1;
vector[N] dose2;
vector[N] dose12;
vector[N] blot;
}
parameters {
real alpha;
real beta1;
real beta2;
real beta3;
real<lower=0> sigma2;
}
model {
beta1 ~ normal(0,1);
beta2 ~ normal(0,1);
beta3 ~ normal(0,1);
sigma2 ~ inv_gamma(0.5, 12.5);
blot ~ normal(alpha + beta1 * dose1 + beta2 * dose2 + beta3 * dose12, sqrt(sigma2));
}")
fit <- stan(model_code=stan_model2, data = dat_list,
iter = 200, chains = 1, control = list(max_treedepth = 15))
plot(fit)
posterior <- As.mcmc.list(m_norm,pars="beta1")
posterior <- As.mcmc.list(ft,pars="beta1")
posterior <- As.mcmc.list(fit,pars="beta1")
plot(posterior)
posterior
rstan::plot(posterior)
as.numeric(posterior)
as.matrix(posterior)
posterior[,1]
posterior[1]
posterior[[1]
]
posterior[[1]][1]
as.numeric(posterior[[1]])
as.mcmc(posterior[[1]])
library(coda)
as.mcmc(posterior[[1]])
plot(as.mcmc(posterior[[1]]))
fit
